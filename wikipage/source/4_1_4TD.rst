Transport of Dissolved Substances (TRANSPORT_DISSOLVED)
=======================================================

The Transport Dissolved file is a JSON file that configures how dissolved chemical species are transported with the water flux between model cells.

Module Options
--------------

+----------------------------------+----------------------------------------------------------+
| ``MODULE_NAME``                  | Description                                              |
+==================================+==========================================================+
| ``OPENWQ_NATIVE_TD_ADVDISP``    | Advection + Dispersion transport                         |
+----------------------------------+----------------------------------------------------------+
| ``NATIVE_TD_ADV``               | Advection-only transport                                 |
+----------------------------------+----------------------------------------------------------+
| ``NONE``                         | No dissolved transport                                   |
+----------------------------------+----------------------------------------------------------+


Transport Configuration
-----------------------

The ``TRANSPORT_CONFIGURATION`` key contains the dispersion parameters. These parameters are used only when the module is ``OPENWQ_NATIVE_TD_ADVDISP``.

+-----------------------------------+--------------------------------------------------------------+
| Key                               | Description                                                  |
+===================================+==============================================================+
| ``dispersion_x_m2/s``            | Dispersion coefficient in x direction [m2/s]                 |
+-----------------------------------+--------------------------------------------------------------+
| ``dispersion_y_m2/s``            | Dispersion coefficient in y direction [m2/s]                 |
+-----------------------------------+--------------------------------------------------------------+
| ``dispersion_z_m2/s``            | Dispersion coefficient in z direction [m2/s]                 |
+-----------------------------------+--------------------------------------------------------------+
| ``characteristic_length_m``      | Characteristic distance between cell centers [m]             |
+-----------------------------------+--------------------------------------------------------------+

The effective dispersion rate is computed as:

.. math::

    D_{eff} = \frac{D_{avg}}{L^2}

where :math:`D_{avg} = (D_x + D_y + D_z) / 3` and :math:`L` is the ``characteristic_length_m``.

.. note::

    The dispersion uses a Fickian approximation between cell pairs. The dispersive flux is proportional to the concentration difference between source and recipient cells, and is bidirectional (it can smooth concentration gradients in either direction regardless of flow).


Example (Advection + Dispersion)
--------------------------------

.. code-block:: json

    {
        "MODULE_NAME": "OPENWQ_NATIVE_TD_ADVDISP",

        "TRANSPORT_CONFIGURATION": {
            "dispersion_x_m2/s": 0.5,
            "dispersion_y_m2/s": 0.5,
            "dispersion_z_m2/s": 0.1,
            "characteristic_length_m": 100.0
        }
    }


Example (Advection-only)
------------------------

.. code-block:: json

    {
        "MODULE_NAME": "NATIVE_TD_ADV",

        "TRANSPORT_CONFIGURATION": {
            "dispersion_x_m2/s": 0.0,
            "dispersion_y_m2/s": 0.0,
            "dispersion_z_m2/s": 0.0,
            "characteristic_length_m": 100.0
        }
    }

The JSON file supports C/C++ syntax for comments: single-line comment (``//``) or comment blocks (``/*`` and ``*/``).
