{
  "_DESCRIPTION": "Silica Cycling - Dissolved silica dynamics for diatom modeling",
  "_REFERENCE": "CE-QUAL-W2, Chapra (2008)",
  "_VERSION": "1.0",

  "BIOGEOCHEMISTRY_CONFIGURATION": {
    "CHEMICAL_SPECIES": {
      "DSi": {
        "DESCRIPTION": "Dissolved silica (silicic acid)",
        "UNITS": "mg/L as SiO2",
        "INITIAL_CONDITION": 5.0
      },
      "BSi": {
        "DESCRIPTION": "Biogenic silica (diatom frustules)",
        "UNITS": "mg/L as SiO2",
        "INITIAL_CONDITION": 1.0
      },
      "DIATOM": {
        "DESCRIPTION": "Diatom biomass",
        "UNITS": "mg/L as C",
        "INITIAL_CONDITION": 0.5
      },
      "PO4_P": {
        "DESCRIPTION": "Phosphate (diatom nutrient)",
        "UNITS": "mg/L as P",
        "INITIAL_CONDITION": 0.05
      },
      "NO3_N": {
        "DESCRIPTION": "Nitrate (diatom nutrient)",
        "UNITS": "mg/L as N",
        "INITIAL_CONDITION": 1.0
      }
    },

    "CYCLING_FRAMEWORKS": {
      "SILICA_CYCLE": {
        "_DESCRIPTION": "Silica cycling with diatom dynamics",

        "DIATOM_GROWTH": {
          "CONSUMED": "DSi",
          "PRODUCED": "DIATOM",
          "KINETICS": "mu_max * DIATOM * f_Si * f_N * f_P * f_light * f_temp",
          "PARAMETERS": {
            "mu_max": {
              "VALUE": 2.0,
              "UNITS": "1/day",
              "RANGE": [1.0, 3.0],
              "DESCRIPTION": "Maximum diatom growth rate"
            },
            "f_Si": {
              "FORMULA": "DSi / (K_Si + DSi)",
              "K_Si": {
                "VALUE": 0.1,
                "UNITS": "mg/L",
                "DESCRIPTION": "Half-saturation for Si"
              }
            },
            "f_N": {
              "FORMULA": "NO3_N / (K_N + NO3_N)",
              "K_N": {"VALUE": 0.02, "UNITS": "mg/L"}
            },
            "f_P": {
              "FORMULA": "PO4_P / (K_P + PO4_P)",
              "K_P": {"VALUE": 0.005, "UNITS": "mg/L"}
            },
            "f_light": {"VALUE": 0.5, "DESCRIPTION": "Light limitation (0-1)"},
            "f_temp": {"VALUE": 1.0, "DESCRIPTION": "Temperature factor"}
          }
        },

        "SI_UPTAKE_STOICH": {
          "CONSUMED": "DSi",
          "PRODUCED": "NONE",
          "KINETICS": "r_Si_C * mu_max * DIATOM * f_Si * f_N * f_P * f_light * f_temp",
          "PARAMETERS": {
            "r_Si_C": {
              "VALUE": 0.5,
              "UNITS": "mg Si/mg C",
              "RANGE": [0.2, 1.0],
              "DESCRIPTION": "Si:C ratio in diatoms"
            },
            "mu_max": {"VALUE": 2.0, "UNITS": "1/day"},
            "f_Si": {"VALUE": 1.0},
            "f_N": {"VALUE": 1.0},
            "f_P": {"VALUE": 1.0},
            "f_light": {"VALUE": 0.5},
            "f_temp": {"VALUE": 1.0}
          }
        },

        "DIATOM_RESPIRATION": {
          "CONSUMED": "DIATOM",
          "PRODUCED": "CO2",
          "KINETICS": "k_resp * DIATOM * 1.08^(T - 20)",
          "PARAMETERS": {
            "k_resp": {
              "VALUE": 0.1,
              "UNITS": "1/day",
              "DESCRIPTION": "Diatom respiration rate"
            }
          }
        },

        "DIATOM_DEATH": {
          "CONSUMED": "DIATOM",
          "PRODUCED": "BSi",
          "KINETICS": "k_death * DIATOM * r_Si_C",
          "PARAMETERS": {
            "k_death": {
              "VALUE": 0.05,
              "UNITS": "1/day",
              "DESCRIPTION": "Diatom mortality rate"
            },
            "r_Si_C": {"VALUE": 0.5, "UNITS": "mg Si/mg C"}
          },
          "NOTES": "Si in frustules becomes BSi upon death"
        },

        "BSI_DISSOLUTION": {
          "CONSUMED": "BSi",
          "PRODUCED": "DSi",
          "KINETICS": "k_diss * BSi * (1 - DSi / DSi_sat) * 1.08^(T - 20)",
          "PARAMETERS": {
            "k_diss": {
              "VALUE": 0.02,
              "UNITS": "1/day",
              "RANGE": [0.005, 0.1],
              "DESCRIPTION": "BSi dissolution rate"
            },
            "DSi_sat": {
              "VALUE": 60,
              "UNITS": "mg/L",
              "DESCRIPTION": "DSi saturation (amorphous silica)"
            }
          },
          "NOTES": "Dissolution slows as DSi approaches saturation"
        },

        "BSI_SETTLING": {
          "CONSUMED": "BSi",
          "PRODUCED": "SED_Si",
          "KINETICS": "v_s_diatom / depth * BSi",
          "PARAMETERS": {
            "v_s_diatom": {
              "VALUE": 0.5,
              "UNITS": "m/day",
              "RANGE": [0.1, 2.0],
              "DESCRIPTION": "Diatom/frustule settling velocity"
            },
            "depth": {"VALUE": 5.0, "UNITS": "m"}
          }
        },

        "DIATOM_SETTLING": {
          "CONSUMED": "DIATOM",
          "PRODUCED": "SED_DIATOM",
          "KINETICS": "v_s_diatom / depth * DIATOM",
          "PARAMETERS": {
            "v_s_diatom": {"VALUE": 0.5, "UNITS": "m/day"},
            "depth": {"VALUE": 5.0, "UNITS": "m"}
          }
        },

        "SEDIMENT_SI_FLUX": {
          "CONSUMED": "NONE",
          "PRODUCED": "DSi",
          "KINETICS": "J_Si / depth * (1 - DSi / DSi_sat)",
          "PARAMETERS": {
            "J_Si": {
              "VALUE": 10.0,
              "UNITS": "mg/m2/day",
              "RANGE": [1.0, 50.0],
              "DESCRIPTION": "Sediment Si flux"
            },
            "depth": {"VALUE": 5.0, "UNITS": "m"},
            "DSi_sat": {"VALUE": 60, "UNITS": "mg/L"}
          }
        }
      },

      "SI_RATIOS": {
        "_DESCRIPTION": "Typical Si:C ratios for different diatom species",

        "MARINE_DIATOMS": {
          "Si_C_ratio": 0.13,
          "UNITS": "mol Si / mol C",
          "NOTES": "Lower in marine (Si limitation)"
        },

        "FRESHWATER_DIATOMS": {
          "Si_C_ratio": 0.25,
          "UNITS": "mol Si / mol C",
          "NOTES": "Higher in freshwater"
        },

        "MASS_RATIO_CONVERSION": {
          "Si_C_mass": "Si_C_mol * 28.09 / 12.01 = Si_C_mol * 2.34",
          "NOTES": "Convert molar to mass ratio"
        }
      }
    },

    "COMPARTMENT_ASSIGNMENT": {
      "LAKE": ["SILICA_CYCLE"],
      "RESERVOIR": ["SILICA_CYCLE"],
      "ESTUARY": ["SILICA_CYCLE"]
    }
  }
}
