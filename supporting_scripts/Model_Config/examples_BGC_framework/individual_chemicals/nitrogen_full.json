{
  "_DESCRIPTION": "Complete Nitrogen Cycle - All N forms with O2 limitation and plant uptake",
  "_REFERENCE": "SWAT, HYPE, and Chapra (2008)",
  "_VERSION": "1.0",

  "BIOGEOCHEMISTRY_CONFIGURATION": {
    "CHEMICAL_SPECIES": {
      "NH4_N": {
        "DESCRIPTION": "Ammonium nitrogen",
        "UNITS": "mg/L as N",
        "INITIAL_CONDITION": 0.5
      },
      "NO3_N": {
        "DESCRIPTION": "Nitrate nitrogen",
        "UNITS": "mg/L as N",
        "INITIAL_CONDITION": 2.0
      },
      "NO2_N": {
        "DESCRIPTION": "Nitrite nitrogen",
        "UNITS": "mg/L as N",
        "INITIAL_CONDITION": 0.01
      },
      "DON": {
        "DESCRIPTION": "Dissolved organic nitrogen",
        "UNITS": "mg/L as N",
        "INITIAL_CONDITION": 0.5
      },
      "PON": {
        "DESCRIPTION": "Particulate organic nitrogen",
        "UNITS": "mg/L as N",
        "INITIAL_CONDITION": 0.5
      },
      "N2O": {
        "DESCRIPTION": "Nitrous oxide (GHG emission tracker)",
        "UNITS": "mg/L as N",
        "INITIAL_CONDITION": 0.0
      },
      "DO": {
        "DESCRIPTION": "Dissolved oxygen (required for O2-limited reactions)",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 8.0
      }
    },

    "CYCLING_FRAMEWORKS": {
      "FULL_N_CYCLE": {
        "_DESCRIPTION": "Complete nitrogen cycle with all transformations",

        "PON_HYDROLYSIS": {
          "CONSUMED": "PON",
          "PRODUCED": "DON",
          "KINETICS": "k_hydrol * PON * 1.05^(T - 20)",
          "PARAMETERS": {
            "k_hydrol": {
              "VALUE": 0.1,
              "UNITS": "1/day",
              "RANGE": [0.02, 0.5],
              "DESCRIPTION": "PON hydrolysis to DON"
            }
          }
        },

        "DON_MINERALIZATION": {
          "CONSUMED": "DON",
          "PRODUCED": "NH4_N",
          "KINETICS": "k_min * DON * 1.08^(T - 20)",
          "PARAMETERS": {
            "k_min": {
              "VALUE": 0.08,
              "UNITS": "1/day",
              "RANGE": [0.02, 0.3],
              "DESCRIPTION": "DON mineralization to NH4"
            }
          }
        },

        "NITRIFICATION_STEP1": {
          "CONSUMED": "NH4_N",
          "PRODUCED": "NO2_N",
          "KINETICS": "k_nitrif1 * NH4_N * (DO / (K_O2_nitrif + DO)) * 1.08^(T - 20)",
          "PARAMETERS": {
            "k_nitrif1": {
              "VALUE": 0.15,
              "UNITS": "1/day",
              "RANGE": [0.05, 0.5],
              "DESCRIPTION": "NH4 to NO2 rate (Nitrosomonas)"
            },
            "K_O2_nitrif": {
              "VALUE": 0.5,
              "UNITS": "mg/L",
              "RANGE": [0.2, 2.0],
              "DESCRIPTION": "Half-saturation O2 for nitrification"
            }
          }
        },

        "NITRIFICATION_STEP2": {
          "CONSUMED": "NO2_N",
          "PRODUCED": "NO3_N",
          "KINETICS": "k_nitrif2 * NO2_N * (DO / (K_O2_nitrif + DO)) * 1.08^(T - 20)",
          "PARAMETERS": {
            "k_nitrif2": {
              "VALUE": 0.5,
              "UNITS": "1/day",
              "RANGE": [0.2, 2.0],
              "DESCRIPTION": "NO2 to NO3 rate (Nitrobacter)"
            },
            "K_O2_nitrif": {
              "VALUE": 0.5,
              "UNITS": "mg/L"
            }
          },
          "NOTES": "Nitrobacter typically faster than Nitrosomonas, so NO2 doesn't accumulate"
        },

        "NITRIFICATION_O2_DEMAND": {
          "CONSUMED": "DO",
          "PRODUCED": "NONE",
          "KINETICS": "4.57 * k_nitrif1 * NH4_N * (DO / (K_O2_nitrif + DO)) * 1.08^(T - 20)",
          "PARAMETERS": {
            "k_nitrif1": {"VALUE": 0.15, "UNITS": "1/day"},
            "K_O2_nitrif": {"VALUE": 0.5, "UNITS": "mg/L"}
          },
          "NOTES": "Stoichiometry: 4.57 mg O2 per mg NH4-N oxidized"
        },

        "DENITRIFICATION": {
          "CONSUMED": "NO3_N",
          "PRODUCED": "N2_loss",
          "KINETICS": "k_denitrif * NO3_N * (K_O2_inhib / (K_O2_inhib + DO)) * 1.07^(T - 20)",
          "PARAMETERS": {
            "k_denitrif": {
              "VALUE": 0.1,
              "UNITS": "1/day",
              "RANGE": [0.01, 0.5],
              "DESCRIPTION": "Denitrification rate (anaerobic)"
            },
            "K_O2_inhib": {
              "VALUE": 0.5,
              "UNITS": "mg/L",
              "RANGE": [0.1, 1.0],
              "DESCRIPTION": "O2 inhibition constant for denitrification"
            }
          }
        },

        "N2O_PRODUCTION_DENITRIF": {
          "CONSUMED": "NO3_N",
          "PRODUCED": "N2O",
          "KINETICS": "f_N2O * k_denitrif * NO3_N * (K_O2_inhib / (K_O2_inhib + DO)) * 1.07^(T - 20)",
          "PARAMETERS": {
            "f_N2O": {
              "VALUE": 0.05,
              "UNITS": "fraction",
              "RANGE": [0.01, 0.2],
              "DESCRIPTION": "Fraction of denitrification producing N2O"
            },
            "k_denitrif": {"VALUE": 0.1, "UNITS": "1/day"},
            "K_O2_inhib": {"VALUE": 0.5, "UNITS": "mg/L"}
          }
        },

        "N2O_EMISSION": {
          "CONSUMED": "N2O",
          "PRODUCED": "N2O_atm_loss",
          "KINETICS": "k_N2O_emit * N2O",
          "PARAMETERS": {
            "k_N2O_emit": {
              "VALUE": 1.0,
              "UNITS": "1/day",
              "DESCRIPTION": "N2O emission rate to atmosphere"
            }
          }
        },

        "VOLATILIZATION": {
          "CONSUMED": "NH4_N",
          "PRODUCED": "NH3_loss",
          "KINETICS": "k_vol * NH4_N * f_pH",
          "PARAMETERS": {
            "k_vol": {
              "VALUE": 0.01,
              "UNITS": "1/day",
              "RANGE": [0.0, 0.1],
              "DESCRIPTION": "Ammonia volatilization rate"
            },
            "f_pH": {
              "VALUE": 0.1,
              "DESCRIPTION": "pH factor (increases with pH > 8)"
            }
          },
          "NOTES": "Significant only at high pH (>8.5)"
        },

        "PLANT_UPTAKE_NH4": {
          "CONSUMED": "NH4_N",
          "PRODUCED": "NONE",
          "KINETICS": "k_uptake * NH4_N * (NH4_N / (NH4_N + NO3_N + 0.01)) * f_season * 1.05^(T - 20)",
          "PARAMETERS": {
            "k_uptake": {
              "VALUE": 0.1,
              "UNITS": "1/day",
              "RANGE": [0.0, 0.5],
              "DESCRIPTION": "Plant N uptake rate"
            },
            "f_season": {
              "VALUE": 1.0,
              "RANGE": [0.0, 1.0],
              "DESCRIPTION": "Seasonal factor (0 winter, 1 peak growing season)"
            }
          }
        },

        "PLANT_UPTAKE_NO3": {
          "CONSUMED": "NO3_N",
          "PRODUCED": "NONE",
          "KINETICS": "k_uptake * NO3_N * (NO3_N / (NH4_N + NO3_N + 0.01)) * f_season * 1.05^(T - 20)",
          "PARAMETERS": {
            "k_uptake": {"VALUE": 0.1, "UNITS": "1/day"},
            "f_season": {"VALUE": 1.0}
          }
        },

        "IMMOBILIZATION": {
          "CONSUMED": "NH4_N",
          "PRODUCED": "DON",
          "KINETICS": "k_immob * NH4_N * 1.05^(T - 20)",
          "PARAMETERS": {
            "k_immob": {
              "VALUE": 0.02,
              "UNITS": "1/day",
              "RANGE": [0.001, 0.1],
              "DESCRIPTION": "Microbial N immobilization"
            }
          }
        },

        "FIXATION": {
          "CONSUMED": "NONE",
          "PRODUCED": "DON",
          "KINETICS": "k_fix * 1.05^(T - 20)",
          "PARAMETERS": {
            "k_fix": {
              "VALUE": 0.01,
              "UNITS": "mg/L/day",
              "RANGE": [0.0, 0.1],
              "DESCRIPTION": "Biological N fixation rate"
            }
          },
          "NOTES": "Zero-order; significant in N-limited systems with cyanobacteria"
        }
      }
    },

    "COMPARTMENT_ASSIGNMENT": {
      "SOIL": ["FULL_N_CYCLE"],
      "RIVER": ["FULL_N_CYCLE"],
      "LAKE": ["FULL_N_CYCLE"],
      "GROUNDWATER": ["FULL_N_CYCLE"]
    }
  }
}
