{
  "_DESCRIPTION": "SWAT-Style Full Nutrient Model - N, P, C cycling with soil processes",
  "_REFERENCE": "SWAT Theoretical Documentation (Neitsch et al., 2011)",
  "_MODEL": "Soil & Water Assessment Tool",
  "_VERSION": "1.0",
  "_NOTES": "Comprehensive soil-water nutrient cycling mimicking SWAT model structure",

  "BIOGEOCHEMISTRY_CONFIGURATION": {
    "CHEMICAL_SPECIES": {
      "_NITROGEN_POOLS": "Five N pools following SWAT structure",
      "NO3_N": {
        "DESCRIPTION": "Nitrate nitrogen",
        "UNITS": "mg/L (or kg/ha for soil)",
        "INITIAL_CONDITION": 5.0
      },
      "NH4_N": {
        "DESCRIPTION": "Ammonium nitrogen",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 1.0
      },
      "ORG_N_active": {
        "DESCRIPTION": "Active organic nitrogen (humus)",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 10.0
      },
      "ORG_N_stable": {
        "DESCRIPTION": "Stable organic nitrogen (humus)",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 50.0
      },
      "ORG_N_fresh": {
        "DESCRIPTION": "Fresh organic nitrogen (residue)",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 5.0
      },

      "_PHOSPHORUS_POOLS": "Six P pools following SWAT structure",
      "PO4_P_sol": {
        "DESCRIPTION": "Solution phosphorus",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 0.05
      },
      "PO4_P_active": {
        "DESCRIPTION": "Active mineral phosphorus",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 5.0
      },
      "PO4_P_stable": {
        "DESCRIPTION": "Stable mineral phosphorus",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 20.0
      },
      "ORG_P_humus": {
        "DESCRIPTION": "Organic phosphorus in humus",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 10.0
      },
      "ORG_P_fresh": {
        "DESCRIPTION": "Fresh organic phosphorus (residue)",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 2.0
      },

      "_CARBON_POOLS": "Carbon for C:N ratio calculations",
      "ORG_C_active": {
        "DESCRIPTION": "Active organic carbon",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 100.0
      },
      "ORG_C_stable": {
        "DESCRIPTION": "Stable organic carbon",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 500.0
      },
      "ORG_C_fresh": {
        "DESCRIPTION": "Fresh organic carbon (residue)",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 50.0
      },

      "_SEDIMENT": "Sediment for nutrient transport",
      "SED": {
        "DESCRIPTION": "Suspended sediment",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 50.0
      },

      "_OXYGEN": "Dissolved oxygen",
      "DO": {
        "DESCRIPTION": "Dissolved oxygen",
        "UNITS": "mg/L",
        "INITIAL_CONDITION": 8.0
      }
    },

    "CYCLING_FRAMEWORKS": {
      "SWAT_NITROGEN_CYCLE": {
        "_DESCRIPTION": "SWAT nitrogen cycling processes",

        "MINERALIZATION_ACTIVE": {
          "CONSUMED": "ORG_N_active",
          "PRODUCED": "NH4_N",
          "KINETICS": "beta_min * sqrt(gamma_tmp * gamma_sw) * ORG_N_active",
          "PARAMETERS": {
            "beta_min": {
              "VALUE": 0.0003,
              "UNITS": "1/day",
              "RANGE": [0.0001, 0.001],
              "DESCRIPTION": "Rate constant for mineralization of humus"
            },
            "gamma_tmp": {
              "VALUE": 1.0,
              "DESCRIPTION": "Temperature factor: 0.9^(T_soil - T_opt)"
            },
            "gamma_sw": {
              "VALUE": 1.0,
              "DESCRIPTION": "Soil water factor"
            }
          }
        },

        "MINERALIZATION_FRESH": {
          "CONSUMED": "ORG_N_fresh",
          "PRODUCED": "NH4_N",
          "KINETICS": "beta_rsd * sqrt(gamma_tmp * gamma_sw) * ORG_N_fresh * (1 - f_hp)",
          "PARAMETERS": {
            "beta_rsd": {
              "VALUE": 0.05,
              "UNITS": "1/day",
              "RANGE": [0.02, 0.1],
              "DESCRIPTION": "Residue decomposition rate"
            },
            "f_hp": {
              "VALUE": 0.2,
              "DESCRIPTION": "Fraction to humus pool (rest mineralized)"
            }
          }
        },

        "HUMIFICATION": {
          "CONSUMED": "ORG_N_fresh",
          "PRODUCED": "ORG_N_active",
          "KINETICS": "beta_rsd * sqrt(gamma_tmp * gamma_sw) * ORG_N_fresh * f_hp",
          "PARAMETERS": {
            "beta_rsd": {"VALUE": 0.05, "UNITS": "1/day"},
            "f_hp": {"VALUE": 0.2}
          }
        },

        "NITRIFICATION": {
          "CONSUMED": "NH4_N",
          "PRODUCED": "NO3_N",
          "KINETICS": "k_nit * gamma_tmp * gamma_sw * (1 - exp(-c_n * NH4_N)) * NH4_N",
          "PARAMETERS": {
            "k_nit": {
              "VALUE": 0.1,
              "UNITS": "1/day",
              "RANGE": [0.01, 0.5],
              "DESCRIPTION": "Nitrification rate constant"
            },
            "c_n": {
              "VALUE": 0.1,
              "DESCRIPTION": "Nitrification constant"
            }
          }
        },

        "VOLATILIZATION": {
          "CONSUMED": "NH4_N",
          "PRODUCED": "NH3_loss",
          "KINETICS": "k_vol * gamma_tmp * NH4_N * depth_factor",
          "PARAMETERS": {
            "k_vol": {
              "VALUE": 0.01,
              "UNITS": "1/day",
              "RANGE": [0.0, 0.1],
              "DESCRIPTION": "Volatilization rate"
            },
            "depth_factor": {
              "VALUE": 0.5,
              "DESCRIPTION": "Depth factor (1 at surface, decreases with depth)"
            }
          }
        },

        "DENITRIFICATION": {
          "CONSUMED": "NO3_N",
          "PRODUCED": "N2_loss",
          "KINETICS": "k_den * gamma_tmp * ORG_C_active * (1 - exp(-c_den * NO3_N))",
          "PARAMETERS": {
            "k_den": {
              "VALUE": 0.05,
              "UNITS": "1/day",
              "RANGE": [0.01, 0.2],
              "DESCRIPTION": "Denitrification rate constant"
            },
            "c_den": {
              "VALUE": 0.05,
              "DESCRIPTION": "Denitrification exponential constant"
            }
          },
          "NOTES": "Only active when soil water > field capacity"
        },

        "PLANT_UPTAKE_NO3": {
          "CONSUMED": "NO3_N",
          "PRODUCED": "PLANT_N",
          "KINETICS": "U_N * f_NO3 * f_growth",
          "PARAMETERS": {
            "U_N": {
              "VALUE": 0.1,
              "UNITS": "mg/L/day",
              "DESCRIPTION": "Total N uptake demand"
            },
            "f_NO3": {
              "VALUE": 0.8,
              "DESCRIPTION": "Fraction of uptake from NO3 (vs NH4)"
            },
            "f_growth": {
              "VALUE": 1.0,
              "DESCRIPTION": "Growth stage factor"
            }
          }
        },

        "PLANT_UPTAKE_NH4": {
          "CONSUMED": "NH4_N",
          "PRODUCED": "PLANT_N",
          "KINETICS": "U_N * (1 - f_NO3) * f_growth",
          "PARAMETERS": {
            "U_N": {"VALUE": 0.1, "UNITS": "mg/L/day"},
            "f_NO3": {"VALUE": 0.8},
            "f_growth": {"VALUE": 1.0}
          }
        },

        "N_FIXATION": {
          "CONSUMED": "NONE",
          "PRODUCED": "NH4_N",
          "KINETICS": "k_fix * f_growth * f_nfix",
          "PARAMETERS": {
            "k_fix": {
              "VALUE": 0.01,
              "UNITS": "mg/L/day",
              "DESCRIPTION": "N fixation rate for legumes"
            },
            "f_nfix": {
              "VALUE": 0.0,
              "DESCRIPTION": "1 for legumes, 0 for non-legumes"
            }
          }
        }
      },

      "SWAT_PHOSPHORUS_CYCLE": {
        "_DESCRIPTION": "SWAT phosphorus cycling processes",

        "P_MINERALIZATION_ACTIVE": {
          "CONSUMED": "ORG_P_humus",
          "PRODUCED": "PO4_P_sol",
          "KINETICS": "beta_min * sqrt(gamma_tmp * gamma_sw) * ORG_P_humus",
          "PARAMETERS": {
            "beta_min": {"VALUE": 0.0003, "UNITS": "1/day"}
          }
        },

        "P_MINERALIZATION_FRESH": {
          "CONSUMED": "ORG_P_fresh",
          "PRODUCED": "PO4_P_sol",
          "KINETICS": "beta_rsd * sqrt(gamma_tmp * gamma_sw) * ORG_P_fresh * 0.8",
          "PARAMETERS": {
            "beta_rsd": {"VALUE": 0.05, "UNITS": "1/day"}
          }
        },

        "P_HUMIFICATION": {
          "CONSUMED": "ORG_P_fresh",
          "PRODUCED": "ORG_P_humus",
          "KINETICS": "beta_rsd * sqrt(gamma_tmp * gamma_sw) * ORG_P_fresh * 0.2",
          "PARAMETERS": {
            "beta_rsd": {"VALUE": 0.05, "UNITS": "1/day"}
          }
        },

        "P_SORPTION": {
          "CONSUMED": "PO4_P_sol",
          "PRODUCED": "PO4_P_active",
          "KINETICS": "k_ads_P * (PO4_P_sol - PSP * PO4_P_active / (1 - PSP))",
          "PARAMETERS": {
            "k_ads_P": {
              "VALUE": 0.5,
              "UNITS": "1/day",
              "RANGE": [0.1, 2.0],
              "DESCRIPTION": "P sorption rate"
            },
            "PSP": {
              "VALUE": 0.4,
              "RANGE": [0.1, 0.7],
              "DESCRIPTION": "Phosphorus sorption coefficient"
            }
          }
        },

        "P_ACTIVE_TO_STABLE": {
          "CONSUMED": "PO4_P_active",
          "PRODUCED": "PO4_P_stable",
          "KINETICS": "beta_eq * (PO4_P_active * (1 - pai) / pai - PO4_P_stable)",
          "PARAMETERS": {
            "beta_eq": {
              "VALUE": 0.0001,
              "UNITS": "1/day",
              "DESCRIPTION": "Slow equilibration rate"
            },
            "pai": {
              "VALUE": 0.5,
              "DESCRIPTION": "Active/stable equilibrium ratio"
            }
          }
        },

        "P_PLANT_UPTAKE": {
          "CONSUMED": "PO4_P_sol",
          "PRODUCED": "PLANT_P",
          "KINETICS": "U_P * f_growth",
          "PARAMETERS": {
            "U_P": {
              "VALUE": 0.01,
              "UNITS": "mg/L/day",
              "DESCRIPTION": "Plant P uptake demand"
            },
            "f_growth": {"VALUE": 1.0}
          }
        }
      },

      "SWAT_CARBON_CYCLE": {
        "_DESCRIPTION": "SWAT carbon cycling (for C:N ratio)",

        "C_MINERALIZATION_ACTIVE": {
          "CONSUMED": "ORG_C_active",
          "PRODUCED": "CO2_loss",
          "KINETICS": "beta_min * sqrt(gamma_tmp * gamma_sw) * ORG_C_active",
          "PARAMETERS": {
            "beta_min": {"VALUE": 0.0003, "UNITS": "1/day"}
          }
        },

        "C_MINERALIZATION_FRESH": {
          "CONSUMED": "ORG_C_fresh",
          "PRODUCED": "CO2_loss",
          "KINETICS": "beta_rsd * sqrt(gamma_tmp * gamma_sw) * ORG_C_fresh * 0.8",
          "PARAMETERS": {
            "beta_rsd": {"VALUE": 0.05, "UNITS": "1/day"}
          }
        },

        "C_HUMIFICATION": {
          "CONSUMED": "ORG_C_fresh",
          "PRODUCED": "ORG_C_active",
          "KINETICS": "beta_rsd * sqrt(gamma_tmp * gamma_sw) * ORG_C_fresh * 0.2",
          "PARAMETERS": {
            "beta_rsd": {"VALUE": 0.05, "UNITS": "1/day"}
          }
        }
      },

      "SWAT_INSTREAM": {
        "_DESCRIPTION": "In-stream nutrient processes",

        "ALGAE_GROWTH": {
          "CONSUMED": "NO3_N",
          "PRODUCED": "ALGAE",
          "KINETICS": "mu_max * ALGAE * f_L * f_N * f_P * f_T",
          "PARAMETERS": {
            "mu_max": {
              "VALUE": 2.0,
              "UNITS": "1/day",
              "DESCRIPTION": "Maximum algal growth rate"
            },
            "f_L": {"VALUE": 0.7, "DESCRIPTION": "Light factor"},
            "f_N": {"VALUE": 0.9, "DESCRIPTION": "N limitation"},
            "f_P": {"VALUE": 0.8, "DESCRIPTION": "P limitation"},
            "f_T": {"VALUE": 1.0, "DESCRIPTION": "Temperature factor"}
          }
        },

        "ALGAE_RESPIRATION": {
          "CONSUMED": "ALGAE",
          "PRODUCED": "NH4_N",
          "KINETICS": "rho_a * ALGAE * 1.047^(T - 20) * r_N_alg",
          "PARAMETERS": {
            "rho_a": {
              "VALUE": 0.1,
              "UNITS": "1/day",
              "DESCRIPTION": "Algal respiration rate"
            },
            "r_N_alg": {
              "VALUE": 0.08,
              "DESCRIPTION": "N fraction in algae"
            }
          }
        },

        "SETTLING_ORGN": {
          "CONSUMED": "ORG_N_fresh",
          "PRODUCED": "SED_N",
          "KINETICS": "sigma_1 / depth * ORG_N_fresh",
          "PARAMETERS": {
            "sigma_1": {
              "VALUE": 0.5,
              "UNITS": "m/day",
              "DESCRIPTION": "Organic N settling velocity"
            },
            "depth": {"VALUE": 1.0, "UNITS": "m"}
          }
        },

        "SETTLING_ORGP": {
          "CONSUMED": "ORG_P_fresh",
          "PRODUCED": "SED_P",
          "KINETICS": "sigma_2 / depth * ORG_P_fresh",
          "PARAMETERS": {
            "sigma_2": {
              "VALUE": 0.5,
              "UNITS": "m/day",
              "DESCRIPTION": "Organic P settling velocity"
            },
            "depth": {"VALUE": 1.0, "UNITS": "m"}
          }
        },

        "BENTHIC_N_FLUX": {
          "CONSUMED": "NONE",
          "PRODUCED": "NH4_N",
          "KINETICS": "sigma_3 / depth * 1.074^(T - 20)",
          "PARAMETERS": {
            "sigma_3": {
              "VALUE": 0.5,
              "UNITS": "mg/m2/day",
              "DESCRIPTION": "Benthic NH4 source rate"
            },
            "depth": {"VALUE": 1.0, "UNITS": "m"}
          }
        },

        "BENTHIC_P_FLUX": {
          "CONSUMED": "NONE",
          "PRODUCED": "PO4_P_sol",
          "KINETICS": "sigma_4 / depth * 1.074^(T - 20)",
          "PARAMETERS": {
            "sigma_4": {
              "VALUE": 0.1,
              "UNITS": "mg/m2/day",
              "DESCRIPTION": "Benthic P source rate"
            },
            "depth": {"VALUE": 1.0, "UNITS": "m"}
          }
        }
      },

      "SWAT_SEDIMENT_TRANSPORT": {
        "_DESCRIPTION": "Nutrient transport with sediment",

        "SED_BOUND_N": {
          "FORMULA": "conc_sed_N = (ORG_N_active + ORG_N_stable) * enrich_ratio",
          "NOTES": "Enrichment ratio typically 1.5-3.0"
        },

        "SED_BOUND_P": {
          "FORMULA": "conc_sed_P = (PO4_P_active + PO4_P_stable + ORG_P_humus) * enrich_ratio",
          "NOTES": "Enrichment ratio typically 1.5-3.0"
        }
      }
    },

    "COMPARTMENT_ASSIGNMENT": {
      "SOIL_LAYER_1": ["SWAT_NITROGEN_CYCLE", "SWAT_PHOSPHORUS_CYCLE", "SWAT_CARBON_CYCLE"],
      "SOIL_LAYER_2": ["SWAT_NITROGEN_CYCLE", "SWAT_PHOSPHORUS_CYCLE", "SWAT_CARBON_CYCLE"],
      "RIVER": ["SWAT_INSTREAM"],
      "RESERVOIR": ["SWAT_INSTREAM"]
    }
  }
}
